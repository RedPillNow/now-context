<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../polymer-ts/polymer-ts.html">
<link rel="import" href="../now-core/now-core.html">

<link rel="import" href="../iron-ajax/iron-ajax.html">
<link rel="import" href="../iron-signals/iron-signals.html">

<!--
`now-context`

Manage the context of an application. All XHR requests should pass through this element

@author Keith Strickland <keith@redpillnow.com>
@demo demo/index.html
-->
<dom-module id="now-context">
	<template>
		<style>
			:host {
				display: none;
			}
		</style>
		<iron-signals on-iron-signal-nowcontextget="onGetRequest"></iron-signals>
		<iron-signals on-iron-signal-nowcontextput="onPutRequest"></iron-signals>
		<iron-signals on-iron-signal-nowcontextpost="onPostRequest"></iron-signals>
		<iron-signals on-iron-signal-nowcontextdelete="onDeleteRequest"></iron-signals>
		<iron-signals on-iron-signal-nowcontextpatch="onPatchRequest"></iron-signals>
		<iron-signals on-iron-signal-nowcontextreqres="onRequestResponse"></iron-signals>
		<iron-ajax
			id="getAjax"
			method="GET"
			handle-as="json"
			verbose>
		</iron-ajax>
		<iron-ajax
			id="putAjax"
			method="PUT"
			content-type="application/json"
			handle-as="json"
			verbose>
		</iron-ajax>
		<iron-ajax
			id="postAjax"
			method="POST"
			content-type="application/json"
			handle-as="json"
			verbose>
		</iron-ajax>
		<iron-ajax
			id="deleteAjax"
			method="DELETE"
			content-type="application/json"
			handle-as="json"
			verbose>
		</iron-ajax>
		<iron-ajax
			id="patchAjax"
			method="PATCH"
			content-type="application/json"
			handle-as="json"
			verbose>
		</iron-ajax>
	</template>
</dom-module>

<script type="text/javascript" src="now-context.js"></script>
